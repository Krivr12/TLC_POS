<div class="flex items-center gap-4">
  <label for="branch-select" class="font-semibold">Select Branch:</label>
  <ng-container *ngIf="loading; else branchSelector">
    <span class="text-gray-500">Loading branches...</span>
  </ng-container>
  <ng-template #branchSelector>
    <ng-container *ngIf="error; else branchDropdown">
      <span class="text-red-500">Error: {{ error }}</span>
    </ng-container>
    <ng-template #branchDropdown>
      <ng-container *ngIf="branches.length === 0">
        <span class="text-gray-500">No branches found</span>
      </ng-container>
      <select
        *ngIf="branches.length > 0"
        id="branch-select"
        class="border rounded px-2 py-1"
        [ngModel]="selectedBranchId"
        (ngModelChange)="branchChange.emit($event)"
      >
        <option *ngFor="let branch of branches" [value]="branch.id">
          {{ branch.name }}
        </option>
      </select>
    </ng-template>
  </ng-template>
</div>
